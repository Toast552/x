"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["2786"],{77984:function(e,t,s){s.d(t,{F:()=>n});var l=s(68271),a=s(94821),i=s(76882);let n=()=>{let{t:e}=i.Z.global,{copy:t,isSupported:s}=(0,a.VPI)({legacy:!0});return{copyText:async a=>{if(!a)return void l.v0.error(e("common.useCopy.noText"));s.value?(await t(a),l.v0.success(e("common.useCopy.success"))):l.v0.error(e("common.useCopy.failed"))}}}},49034:function(e,t,s){s.r(t),s.d(t,{default:()=>e1});var l=s(58786),a=s(30989),i=s(15410),n=s(68271),r=s(34541);let{t:m}=s(76882).Z.global,o=()=>r.e.get("/settings/get_system_config"),u=()=>r.e.get("/settings/get_timezone_list"),c=e=>r.e.post("/settings/set_system_config_key",e,{fetchOptions:{loading:m("settings.api.loading.setting"),successMessage:!0}}),d=e=>r.e.post("/settings/set_ssl_config",e,{fetchOptions:{loading:m("settings.api.loading.settingSSL"),successMessage:!0}}),v=()=>r.e.post("/ssl/console_apply_cert",{},{fetchOptions:{loading:m("settings.api.loading.applyingCert"),successMessage:!0}}),p=e=>r.e.post("/settings/add_ip_whitelist",e,{fetchOptions:{loading:m("settings.api.loading.adding"),successMessage:!0}}),g=e=>r.e.post("/settings/delete_ip_whitelist",e,{fetchOptions:{loading:m("settings.api.loading.deleting"),successMessage:!0}}),w=()=>r.e.post("/settings/set_ip_whitelist",{ip_list:[]},{fetchOptions:{loading:m("settings.api.loading.clearing"),successMessage:!0}}),_=(0,a.Q_)("SettingsCommonStore",()=>{let e=(0,l.iH)(""),t=(0,l.iH)(!1),s=(0,l.iH)({level:"weak",score:0}),a=(0,l.iH)(""),r=(0,l.qj)({username:"",newPassword:"",confirmPassword:"",securityPath:""}),m=(0,l.qj)({domain:"",sslEnabled:!0,sslCert:"",sslKey:""}),u=(0,l.qj)({status:!1,expireTime:"",expireDays:0}),c=(0,l.iH)(""),d=(0,l.iH)(""),v=(0,l.iH)(""),p=(0,l.iH)(""),g=(0,l.iH)(""),w=(0,l.iH)(""),_=(0,l.iH)(!1),f=(0,l.iH)([]),y=async()=>{let t=await o();if((0,n.Kn)(t)&&(e.value=t.admin_username,a.value=t.safe_path,c.value=t.billionmail_hostname,w.value=t.server_ip,_.value=t.ip_whitelist_enable,f.value=t.ip_whitelist,t.manage_ports&&(d.value=`${t.manage_ports.https}`,v.value=t.manage_ports.command_https),t.manage_timezone&&(p.value=t.manage_timezone.timezone,g.value=t.manage_timezone.command),t.ssl)){m.sslCert=t.ssl.certPem,m.sslKey=t.ssl.privateKey,u.status=t.ssl.status;let e=new Date(t.ssl.notAfter);u.expireTime=(0,n.mr)(e,"yyyy-MM-dd"),u.expireDays=(0,i.j)(e,new Date)}};return{currentUsername:e,currentPath:a,passwordMismatch:t,passwordStrength:s,securityForm:r,networkForm:m,sslInfo:u,currentDomain:c,currentPort:d,portCommand:v,currentTime:p,timeCommand:g,serverIp:w,ipWhitelistEnable:_,ipWhitelistList:f,checkPasswordStrength:()=>{let e=r.newPassword,t=0;e.length>=8&&t++,e.match(/[a-z]/)&&t++,e.match(/[A-Z]/)&&t++,e.match(/[0-9]/)&&t++,e.match(/[^a-zA-Z0-9]/)&&t++,t<=2?s.value={level:"weak",score:t}:t<=4?s.value={level:"medium",score:t}:s.value={level:"strong",score:t}},getCommonConfig:y,reset:()=>{r.username="",r.newPassword="",r.confirmPassword="",r.securityPath="",m.domain="",m.sslEnabled=!0,m.sslCert="",m.sslKey="",u.status=!1,u.expireTime="",u.expireDays=0,d.value="",v.value="",p.value="",g.value="",w.value="",t.value=!1,s.value={level:"weak",score:0}}}}),f=()=>{let e=_();return{...e,...(0,a.Jk)(e)}};var y=s(57869),h=s(98048),x=s(33756),U=s(56357),S=s(67655),b=s(6455),k=s(73084),W=s(52495);let P={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"mt-1 text-xs text-desc"},z={class:"mt-1 text-xs text-desc"},C={class:"mt-4px"},H=(0,l.aZ)({__name:"UsernameSettings",setup(e,t){let{expose:s}=t,{t:a}=(0,W.QT)(),{currentUsername:i,securityForm:n}=f(),r=(0,l.AE)("formItemRef"),m=async()=>{var e;await (null==(e=r.value)?void 0:e.validate()),await c({key:"admin_username",value:n.value.username}),i.value=n.value.username,n.value.username=""};return s({rules:{username:{trigger:["blur","input"],validator:()=>{let{username:e}=n.value;return e.length<4||e.length>20?Error(a("settings.common.security.usernameValidation.lengthError")):/^[a-zA-Z0-9_]+$/.test(e)?e!==i.value||Error(a("settings.common.security.usernameValidation.duplicateError")):Error(a("settings.common.security.usernameValidation.formatError"))}}}}),(e,t)=>{let s=k.Z,a=b.ZP,o=S.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(a,{ref_key:"formItemRef",ref:r,label:e.$t("settings.common.security.username"),path:"username"},{default:(0,l.w5)(()=>[(0,l._)("div",P,[(0,l._)("div",null,[(0,l.Wm)(s,{value:(0,l.SU)(i),disabled:""},null,8,["value"]),(0,l._)("p",Z,(0,l.zw)(e.$t("settings.common.security.currentUsername")),1)]),(0,l._)("div",null,[(0,l.Wm)(s,{value:(0,l.SU)(n).username,"onUpdate:value":t[0]||(t[0]=e=>(0,l.SU)(n).username=e),placeholder:e.$t("settings.common.security.newUsernamePlaceholder")},null,8,["value","placeholder"]),(0,l._)("p",z,(0,l.zw)(e.$t("settings.common.security.usernameRule")),1)])])]),_:1},8,["label"]),(0,l._)("div",C,[(0,l.Wm)(o,{type:"primary",disabled:!(0,l.SU)(n).username,onClick:m},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),T={class:"mt-2 flex items-center"},E={class:"flex-1 bg-gray-200 rounded-full h-1 mr-2"},$={class:"text-xs text-gray-500"},D=(0,l.aZ)({__name:"PasswordStrengthIndicator",props:{strength:{type:Object,required:!0}},setup(e){let{t}=(0,W.QT)(),s=(0,l.Fl)(()=>{switch(e.strength.level){case"weak":return"bg-error";case"medium":return"bg-warning";case"strong":return"bg-primary";default:return"bg-gray-300"}}),a=(0,l.Fl)(()=>{switch(e.strength.level){case"weak":return"30%";case"medium":return"60%";case"strong":return"100%";default:return"0%"}}),i=(0,l.Fl)(()=>t(`settings.common.security.strength.${e.strength.level}`));return(e,n)=>((0,l.wg)(),(0,l.iD)("div",T,[(0,l._)("div",E,[(0,l._)("div",{class:(0,l.C_)(["h-1 rounded-full transition-all duration-300",(0,l.SU)(s)]),style:(0,l.j5)({width:(0,l.SU)(a)})},null,6)]),(0,l._)("span",$,(0,l.zw)((0,l.SU)(t)("settings.common.security.passwordStrength"))+": "+(0,l.zw)((0,l.SU)(i)),1)]))}}),R={class:"flex-1 flex flex-col gap-20px"},j=(0,l.aZ)({__name:"PasswordSettings",setup(e,t){let{expose:s}=t,{t:a}=(0,W.QT)(),{securityForm:i,passwordStrength:n,checkPasswordStrength:r}=f(),m=(0,l.AE)("formItemRef"),o=(0,l.Fl)(()=>!i.value.newPassword||!i.value.confirmPassword),u=()=>{r()},d=async()=>{var e;await (null==(e=m.value)?void 0:e.validate()),await c({key:"admin_password",value:i.value.newPassword}),i.value.newPassword="",i.value.confirmPassword=""};return s({rules:{password:{trigger:["input","blur"],validator:()=>!i.value.newPassword||!i.value.confirmPassword||i.value.newPassword===i.value.confirmPassword||Error(a("settings.common.security.passwordMismatch"))}}}),(e,t)=>{let s=k.Z,r=b.ZP,c=S.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{ref_key:"formItemRef",ref:m,label:e.$t("settings.common.security.changePassword"),path:"password"},{default:(0,l.w5)(()=>[(0,l._)("div",R,[(0,l._)("div",null,[(0,l.Wm)(s,{value:(0,l.SU)(i).newPassword,"onUpdate:value":[t[0]||(t[0]=e=>(0,l.SU)(i).newPassword=e),u],type:"password",class:"password-input","show-password-on":"click",placeholder:(0,l.SU)(a)("settings.common.security.newPassword")},null,8,["value","placeholder"]),(0,l.Wm)(D,{strength:(0,l.SU)(n)},null,8,["strength"])]),(0,l._)("div",null,[(0,l.Wm)(s,{value:(0,l.SU)(i).confirmPassword,"onUpdate:value":t[1]||(t[1]=e=>(0,l.SU)(i).confirmPassword=e),type:"password",class:"password-input","show-password-on":"click",placeholder:(0,l.SU)(a)("settings.common.security.confirmPassword")},null,8,["value","placeholder"])])])]),_:1},8,["label"]),(0,l._)("div",null,[(0,l.Wm)(c,{type:"primary",disabled:(0,l.SU)(o),onClick:d},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(a)("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),A={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},K={class:"mt-1 text-xs text-desc"},q={class:"mt-1 text-xs text-desc"},O={class:"mt-4px"},I=(0,l.aZ)({__name:"SecurityPathSettings",setup(e){let{t}=(0,W.QT)(),{currentPath:s,securityForm:a}=f(),i=async()=>{await c({key:"safe_path",value:a.value.securityPath}),s.value=a.value.securityPath,a.value.securityPath=""};return(e,n)=>{let r=k.Z,m=b.ZP,o=S.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(m,{label:(0,l.SU)(t)("settings.common.security.securityPath")},{default:(0,l.w5)(()=>[(0,l._)("div",A,[(0,l._)("div",null,[(0,l.Wm)(r,{value:(0,l.SU)(s),disabled:""},null,8,["value"]),(0,l._)("p",K,(0,l.zw)((0,l.SU)(t)("settings.common.security.currentPath")),1)]),(0,l._)("div",null,[(0,l.Wm)(r,{value:(0,l.SU)(a).securityPath,"onUpdate:value":n[0]||(n[0]=e=>(0,l.SU)(a).securityPath=e),placeholder:(0,l.SU)(t)("settings.common.security.newPathPlaceholder")},null,8,["value","placeholder"]),(0,l._)("p",q,(0,l.zw)((0,l.SU)(t)("settings.common.security.pathRule")),1)])])]),_:1},8,["label"]),(0,l._)("div",O,[(0,l.Wm)(o,{type:"primary",disabled:!(0,l.SU)(a).securityPath,onClick:i},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(t)("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),M={class:"flex items-center"},Q={class:"text-lg font-medium"},F=(0,l.aZ)({__name:"SecuritySettings",setup(e){let{t}=(0,W.QT)(),{securityForm:s}=f(),a=(0,l.iH)({}),i=(0,l.AE)("usernameRef"),n=(0,l.AE)("passwordRef");return(0,l.bv)(()=>{i.value&&(a.value={...a.value,...i.value.rules}),n.value&&(a.value={...a.value,...n.value.rules})}),(e,r)=>{let m=U.g,o=x.Z,u=h.Z,c=y.ZP;return(0,l.wg)(),(0,l.j4)(c,{class:"mb-8",bordered:!1},{header:(0,l.w5)(()=>[(0,l._)("div",M,[(0,l.Wm)(m,{class:"mr-2 text-primary",size:"20"},{default:(0,l.w5)(()=>r[0]||(r[0]=[(0,l._)("i",{class:"i-mdi-shield-account"},null,-1)])),_:1,__:[0]}),(0,l._)("span",Q,(0,l.zw)((0,l.SU)(t)("settings.common.security.title")),1)])]),default:(0,l.w5)(()=>[(0,l.Wm)(u,{model:(0,l.SU)(s),rules:(0,l.SU)(a)},{default:(0,l.w5)(()=>[(0,l.Wm)(H,{ref_key:"usernameRef",ref:i},null,512),(0,l.Wm)(o),(0,l.Wm)(j,{ref_key:"passwordRef",ref:n},null,512),(0,l.Wm)(o),(0,l.Wm)(I)]),_:1},8,["model","rules"])]),_:1})}}});var V=s(29875);let Y={class:"block text-sm font-medium mb-3"},G={class:"flex items-center mb-4"},L={class:"ml-2 font-medium"},N={class:"mt-6"},J={class:"block text-sm font-medium mb-2"},B={class:"flex items-center"},X={class:"text-sm"},ee={class:"text-sm"},et={class:"text-sm"},es={class:"mt-6"},el={class:"block text-sm font-medium mb-2"},ea={class:"mt-4"},ei={class:"block text-sm font-medium mb-2"},en={class:"mt-6"},er=(0,l.aZ)({__name:"SSLSettings",setup(e){let{t}=(0,W.QT)(),{networkForm:s,sslInfo:a,currentDomain:i,serverIp:r,getCommonConfig:m}=f(),o=(0,l.Fl)(()=>!s.value.sslCert||!s.value.sslKey),u=async()=>{await d({certPem:s.value.sslCert,privateKey:s.value.sslKey}),m()},c=()=>{(0,n.iG)({title:"Apply SSL",width:460,content:()=>(0,l.Wm)("div",{style:{lineHeight:"22px"}},[(0,l.Wm)("div",{class:"mb-8px"},[(0,l.Uk)("Certificate Application Functionality:")]),(0,l.Wm)("div",null,[(0,l.Uk)("- Implement certificate application using hostname")]),(0,l.Wm)("div",null,[(0,l.Uk)("- Ensure the hostname has a valid A record configured with:")]),(0,l.Wm)("div",null,[(0,l.Uk)("- Record Type: "),(0,l.Wm)("b",null,[(0,l.Uk)("A")])]),(0,l.Wm)("div",null,[(0,l.Uk)("- Host: "),(0,l.Wm)("b",null,[i.value])]),(0,l.Wm)("div",null,[(0,l.Uk)("- Value: "),(0,l.Wm)("b",null,[r.value])])]),onConfirm:async()=>{await v(),m()}})};return(e,i)=>{let n=V.Z,r=k.Z,m=S.ZP;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",Y,(0,l.zw)((0,l.SU)(t)("settings.common.network.ssl")),1),(0,l._)("div",G,[(0,l.Wm)(n,{value:(0,l.SU)(s).sslEnabled,"onUpdate:value":i[0]||(i[0]=e=>(0,l.SU)(s).sslEnabled=e),disabled:""},null,8,["value"]),(0,l._)("label",L,(0,l.zw)((0,l.SU)(t)("settings.common.network.sslEnabled")),1)]),(0,l._)("div",N,[(0,l._)("label",J,(0,l.zw)((0,l.SU)(t)("settings.common.network.certStatus")),1),(0,l._)("div",B,[(0,l._)("div",{class:(0,l.C_)(["w-3 h-3 rounded-full mr-2 animate-pulse",(0,l.SU)(a).status?"bg-primary":"bg-error"])},null,2),(0,l._)("span",X,(0,l.zw)((0,l.SU)(a).status?(0,l.SU)(t)("settings.common.network.certValidStatus"):(0,l.SU)(t)("settings.common.network.certExpiredStatus"))+"， ",1),(0,l._)("span",ee,(0,l.zw)((0,l.SU)(t)("settings.common.network.certExpireTime",{time:(0,l.SU)(a).expireTime})),1),(0,l._)("span",et,(0,l.zw)((0,l.SU)(t)("settings.common.network.certValid",{days:(0,l.SU)(a).expireDays})),1)])]),(0,l._)("div",es,[(0,l._)("label",el,(0,l.zw)((0,l.SU)(t)("settings.common.network.sslCert")),1),(0,l.Wm)(r,{value:(0,l.SU)(s).sslCert,"onUpdate:value":i[1]||(i[1]=e=>(0,l.SU)(s).sslCert=e),type:"textarea",rows:6,placeholder:(0,l.SU)(t)("settings.common.network.certPlaceholder"),class:"font-mono text-sm"},null,8,["value","placeholder"])]),(0,l._)("div",ea,[(0,l._)("label",ei,(0,l.zw)((0,l.SU)(t)("settings.common.network.sslKey")),1),(0,l.Wm)(r,{value:(0,l.SU)(s).sslKey,"onUpdate:value":i[2]||(i[2]=e=>(0,l.SU)(s).sslKey=e),type:"textarea",rows:6,placeholder:(0,l.SU)(t)("settings.common.network.keyPlaceholder"),class:"font-mono text-sm"},null,8,["value","placeholder"])]),(0,l._)("div",en,[(0,l.Wm)(m,{type:"primary",disabled:(0,l.SU)(o),onClick:u},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(t)("settings.common.network.updateSSL")),1)]),_:1},8,["disabled"]),(0,l.Wm)(m,{type:"primary",class:"ml-12px",ghost:"",onClick:c},{default:(0,l.w5)(()=>i[3]||(i[3]=[(0,l.Uk)(" Apply Certificate ")])),_:1,__:[3]})])])}}}),em={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4"},eo={class:"mt-1 text-xs text-gray-500"},eu={class:"mt-1 text-xs text-gray-500"},ec=(0,l.aZ)({__name:"DomainSettings",setup(e){let{currentDomain:t,networkForm:s}=f(),a=async()=>{await c({key:"billionmail_hostname",value:s.value.domain}),t.value=s.value.domain,s.value.domain=""};return(e,i)=>{let n=k.Z,r=b.ZP,m=S.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{label:e.$t("settings.common.network.domain")},{default:(0,l.w5)(()=>[(0,l._)("div",em,[(0,l._)("div",null,[(0,l.Wm)(n,{value:(0,l.SU)(t),disabled:""},null,8,["value"]),(0,l._)("p",eo,(0,l.zw)(e.$t("settings.common.network.currentDomain")),1)]),(0,l._)("div",null,[(0,l.Wm)(n,{value:(0,l.SU)(s).domain,"onUpdate:value":i[0]||(i[0]=e=>(0,l.SU)(s).domain=e),placeholder:e.$t("settings.common.network.newDomainPlaceholder")},null,8,["value","placeholder"]),(0,l._)("p",eu,(0,l.zw)(e.$t("settings.common.network.domainRule")),1)])])]),_:1},8,["label"]),(0,l._)("div",null,[(0,l.Wm)(m,{type:"primary",disabled:!(0,l.SU)(s).domain,onClick:a},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)(e.$t("settings.common.confirm")),1)]),_:1},8,["disabled"])])],64)}}}),ed={class:"flex items-center"},ev={class:"text-lg font-medium"},ep=(0,l.aZ)({__name:"NetworkSettings",setup:e=>(e,t)=>{let s=U.g,a=x.Z,i=h.Z,n=y.ZP;return(0,l.wg)(),(0,l.j4)(n,{class:"mb-8",bordered:!1},{header:(0,l.w5)(()=>[(0,l._)("div",ed,[(0,l.Wm)(s,{class:"mr-2 text-primary",size:"20"},{default:(0,l.w5)(()=>t[0]||(t[0]=[(0,l._)("i",{class:"i-mdi-network"},null,-1)])),_:1,__:[0]}),(0,l._)("span",ev,(0,l.zw)(e.$t("settings.common.network.title")),1)])]),default:(0,l.w5)(()=>[(0,l.Wm)(i,null,{default:(0,l.w5)(()=>[(0,l.Wm)(er),(0,l.Wm)(a),(0,l.Wm)(ec)]),_:1})]),_:1})}});var eg=s(99321),ew=s(77984);let e_={class:"bg-gray-900 text-gray-100 rounded-lg p-4 pr-48px font-mono text-sm relative"},ef={class:"absolute top-0px right-16px h-full flex items-center"},ey={class:"mt-2 text-12px text-desc"},eh=(0,l.aZ)({__name:"Command",props:{value:{type:String,default:""}},setup(e){let{copyText:t}=(0,ew.F)();return(s,a)=>{let i=S.ZP;return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",e_,[a[2]||(a[2]=(0,l._)("span",{class:"text-gray-400 mr-2"},"$",-1)),(0,l.Uk)((0,l.zw)(e.value)+" ",1),(0,l._)("div",ef,[(0,l.Wm)(i,{text:"",class:"text-desc",onClick:a[0]||(a[0]=s=>(0,l.SU)(t)(e.value))},{default:(0,l.w5)(()=>a[1]||(a[1]=[(0,l._)("i",{class:"i-mdi-content-copy text-18px"},null,-1)])),_:1,__:[1]})])]),(0,l._)("p",ey,(0,l.zw)(s.$t("settings.common.system.copyCommand")),1)],64)}}}),ex={class:"block text-sm font-medium text-basic mb-3"},eU={class:"grid items-start grid-cols-1 md:grid-cols-2 gap-4"},eS={class:"mt-1 text-xs text-desc"},eb={class:"flex items-center"},ek={class:"mt-5"},eW=(0,l.aZ)({__name:"PortSettings",setup(e){let{t}=(0,W.QT)(),{currentPort:s,portCommand:a}=f(),i=(0,l.iH)(s.value),n=(0,l.iH)(""),r=e=>{n.value=a.value.replace(/PORT/g,e)};return(0,l.m0)(()=>{i.value=s.value,s.value&&(n.value=a.value.replace(/PORT/g,s.value))}),(e,s)=>{let a=k.Z,m=U.g,o=eg.Z;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",ex,(0,l.zw)((0,l.SU)(t)("settings.common.system.port")),1),(0,l._)("div",eU,[(0,l._)("div",null,[(0,l.Wm)(a,{value:(0,l.SU)(i),"onUpdate:value":[s[0]||(s[0]=e=>(0,l.dq)(i)?i.value=e:null),r]},null,8,["value"]),(0,l._)("p",eS,(0,l.zw)((0,l.SU)(t)("settings.common.system.currentPort")),1)]),(0,l._)("div",eb,[(0,l.Wm)(o,{type:"warning",class:"w-full"},{icon:(0,l.w5)(()=>[(0,l.Wm)(m,null,{default:(0,l.w5)(()=>s[1]||(s[1]=[(0,l._)("i",{class:"i-mdi-alert-circle"},null,-1)])),_:1,__:[1]})]),default:(0,l.w5)(()=>[(0,l.Uk)(" "+(0,l.zw)((0,l.SU)(t)("settings.common.system.terminalRequired")),1)]),_:1})])]),(0,l._)("div",ek,[(0,l.Wm)(eh,{value:(0,l.SU)(n)},null,8,["value"])])])}}});var eP=s(8490);let eZ={class:"block text-sm font-medium text-basic mb-3"},ez={class:"grid items-start grid-cols-1 md:grid-cols-2 gap-4"},eC={class:"flex gap-12px"},eH={class:"flex-1"},eT={class:"flex-1"},eE={class:"mt-1 text-xs text-desc"},e$={class:"flex items-center"},eD={class:"mt-5"},eR=(0,l.aZ)({__name:"TimezoneSettings",setup(e){let{t}=(0,W.QT)(),{currentTime:s,timeCommand:a}=f(),i=(0,l.iH)(""),r=(0,l.iH)(""),m=(0,l.iH)(""),o=(0,l.iH)({}),c=(0,l.iH)([]),d=(0,l.Fl)(()=>{let e=o.value[i.value];return e?e.map(e=>({label:e,value:e})):[]}),v=()=>{let e=o.value[i.value];r.value=e?e[0]:"",p()},p=()=>{i.value&&r.value&&(m.value=a.value.replace(/TIME ZONE/g,`${i.value}/${r.value}`))};return(0,l.YP)(()=>s.value,e=>{if(e){let t=e.split("/");i.value=t[0],r.value=t[1],m.value=a.value.replace(/TIME ZONE/g,`${i.value}/${r.value}`)}},{immediate:!0}),(async()=>{let e=await u();(0,n.Kn)(e)&&(o.value=e,c.value=Object.keys(e).map(e=>({label:e,value:e})))})(),(e,s)=>{let a=eP.Z,n=U.g,o=eg.Z;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",eZ,(0,l.zw)((0,l.SU)(t)("settings.common.system.timezone")),1),(0,l._)("div",ez,[(0,l._)("div",null,[(0,l._)("div",eC,[(0,l._)("div",eH,[(0,l.Wm)(a,{value:(0,l.SU)(i),"onUpdate:value":[s[0]||(s[0]=e=>(0,l.dq)(i)?i.value=e:null),v],options:(0,l.SU)(c),filterable:""},null,8,["value","options"])]),(0,l._)("div",eT,[(0,l.Wm)(a,{value:(0,l.SU)(r),"onUpdate:value":[s[1]||(s[1]=e=>(0,l.dq)(r)?r.value=e:null),p],options:(0,l.SU)(d),filterable:""},null,8,["value","options"])])]),(0,l._)("div",eE,(0,l.zw)((0,l.SU)(t)("settings.common.system.currentTime")),1)]),(0,l._)("div",e$,[(0,l.Wm)(o,{type:"warning",class:"w-full"},{icon:(0,l.w5)(()=>[(0,l.Wm)(n,null,{default:(0,l.w5)(()=>s[2]||(s[2]=[(0,l._)("i",{class:"i-mdi-alert-circle"},null,-1)])),_:1,__:[2]})]),default:(0,l.w5)(()=>[(0,l.Uk)(" "+(0,l.zw)((0,l.SU)(t)("settings.common.system.terminalRequired")),1)]),_:1})])]),(0,l._)("div",eD,[(0,l.Wm)(eh,{value:(0,l.SU)(m)},null,8,["value"])])])}}});var ej=s(81021),eA=s(88082),eK=s(54547);let eq={class:"block text-sm font-medium mb-3"},eO={class:"flex justify-between items-center h-34px mb-12px"},eI={class:"flex item-center gap-8px"},eM={class:"text-desc"},eQ={class:"flex gap-8px mb-12px"},eF={class:"flex-1"},eV={class:"text-13px"},eY={class:"mt-12px"},eG=(0,l.aZ)({__name:"IpWhitelistSettings",setup(e){let{ipWhitelistEnable:t,ipWhitelistList:s,getCommonConfig:a}=f(),i=(0,l.iH)(""),{t:r}=(0,W.QT)(),m=async()=>{if(""===i.value)return void n.v0.error(r("settings.common.ipWhitelist.validation.ipRequired"));await p({ip:i.value}),a(),i.value=""},o=(e,t)=>{(0,n.iG)({title:r("settings.common.ipWhitelist.confirm.deleteTitle"),content:r("settings.common.ipWhitelist.confirm.deleteContent",{ip:s.value[t].ip}),onConfirm:async()=>{await g({id:e}),s.value.splice(t,1)}})},u=e=>{(0,n.iG)({title:e?r("settings.common.ipWhitelist.confirm.enableTitle"):r("settings.common.ipWhitelist.confirm.disableTitle"),content:e?r("settings.common.ipWhitelist.confirm.enableContent"):r("settings.common.ipWhitelist.confirm.disableContent"),onConfirm:async()=>{await c({key:"ip_whitelist_enable",value:`${e}`}),t.value=e}})},d=async()=>{(0,n.iG)({title:r("settings.common.ipWhitelist.confirm.clearTitle"),content:r("settings.common.ipWhitelist.confirm.clearContent"),onConfirm:async()=>{await w(),a()}})};return(e,a)=>{let n=V.Z,c=k.Z,v=S.ZP,p=eK.Z,g=eA.ZP,w=ej.Z;return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",eq,(0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.title")),1),(0,l._)("div",eO,[(0,l._)("div",eI,[(0,l.Wm)(n,{value:(0,l.SU)(t),"onUpdate:value":u},{checked:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.enable")),1)]),unchecked:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.disable")),1)]),_:1},8,["value"])]),(0,l._)("div",eM,(0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.description")),1)]),(0,l._)("div",eQ,[(0,l._)("div",eF,[(0,l.Wm)(c,{value:(0,l.SU)(i),"onUpdate:value":a[0]||(a[0]=e=>(0,l.dq)(i)?i.value=e:null),placeholder:(0,l.SU)(r)("settings.common.ipWhitelist.placeholder")},null,8,["value","placeholder"])]),(0,l.Wm)(v,{type:"primary",onClick:m},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.add")),1)]),_:1})]),(0,l.SU)(s).length>0?((0,l.wg)(),(0,l.j4)(g,{key:0,hoverable:"",bordered:""},{default:(0,l.w5)(()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,l.SU)(s),(e,t)=>((0,l.wg)(),(0,l.j4)(p,{key:e.id},{suffix:(0,l.w5)(()=>[(0,l.Wm)(v,{size:"small",quaternary:"",circle:"",onClick:s=>o(e.id,t)},{default:(0,l.w5)(()=>a[1]||(a[1]=[(0,l._)("i",{class:"i-mingcute:close-fill text-16px"},null,-1)])),_:2,__:[1]},1032,["onClick"])]),default:(0,l.w5)(()=>[(0,l._)("span",eV,(0,l.zw)(e.ip),1)]),_:2},1024))),128))]),_:1})):((0,l.wg)(),(0,l.j4)(w,{key:1})),(0,l._)("div",eY,[(0,l.Wm)(v,{onClick:d},{default:(0,l.w5)(()=>[(0,l.Uk)((0,l.zw)((0,l.SU)(r)("settings.common.ipWhitelist.clear")),1)]),_:1})])])}}}),eL={class:"flex items-center"},eN={class:"text-lg font-medium"},eJ={class:"space-y-8"},eB=(0,l.aZ)({__name:"SystemSettings",setup:e=>(e,t)=>{let s=U.g,a=x.Z,i=y.ZP;return(0,l.wg)(),(0,l.j4)(i,{class:"mb-8",bordered:!1},{header:(0,l.w5)(()=>[(0,l._)("div",eL,[(0,l.Wm)(s,{class:"mr-2 text-primary",size:"20"},{default:(0,l.w5)(()=>t[0]||(t[0]=[(0,l._)("i",{class:"i-mdi-cog"},null,-1)])),_:1,__:[0]}),(0,l._)("span",eN,(0,l.zw)(e.$t("settings.common.system.title")),1)])]),default:(0,l.w5)(()=>[(0,l._)("div",eJ,[(0,l.Wm)(eW),(0,l.Wm)(a),(0,l.Wm)(eR),(0,l.Wm)(a),(0,l.Wm)(eG)])]),_:1})}}),eX={class:"max-w-4xl mx-auto px-4 py-8"},e0=(0,l.aZ)({__name:"index",setup(e){let t=_();return t.getCommonConfig(),(0,l.Jd)(()=>{t.reset()}),(e,t)=>((0,l.wg)(),(0,l.iD)("div",eX,[(0,l.Wm)(F),(0,l.Wm)(ep),(0,l.Wm)(eB)]))}}),e1=(0,s(41748).default)(e0,[["__scopeId","data-v-5ffa94ad"]])}}]);