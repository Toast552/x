"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["6440"],{39432:function(e,t,l){l.d(t,{Au:()=>u,Fj:()=>d,LC:()=>o,OV:()=>m,dj:()=>r,gK:()=>s,i7:()=>i,v1:()=>c,xh:()=>_,yW:()=>p});var a=l(34541);let{t:n}=l(76882).Z.global,i=e=>a.e.get("/domains/list",{params:e}),o=()=>a.e.get("/domains/all"),d=e=>a.e.post("/domains/create",e,{fetchOptions:{loading:n("domain.api.loading.creating"),successMessage:!0}}),s=e=>a.e.post("/domains/update",e,{fetchOptions:{loading:n("domain.api.loading.updating"),successMessage:!0}}),r=e=>a.e.post("/domains/delete",e,{fetchOptions:{loading:n("domain.api.loading.deleting"),successMessage:!0}}),m=e=>a.e.post("/domains/set_ssl",e,{fetchOptions:{loading:n("domain.api.loading.settingSSL"),successMessage:!0}}),u=e=>a.e.get("/domains/get_ssl",{params:e}),c=e=>a.e.post("/domains/fresh_dns_records",e,{fetchOptions:{loading:n("domain.api.loading.refreshingDns"),successMessage:!0}}),p=e=>a.e.post("/ssl/apply_cert",e,{fetchOptions:{loading:n("domain.api.loading.applyingCert"),successMessage:!0}}),_=e=>a.e.post("/domains/set_default_domain",e,{fetchOptions:{loading:"Setting Default Domain, please wait...",successMessage:!0}})},77984:function(e,t,l){l.d(t,{F:()=>o});var a=l(68271),n=l(94821),i=l(76882);let o=()=>{let{t:e}=i.Z.global,{copy:t,isSupported:l}=(0,n.VPI)({legacy:!0});return{copyText:async n=>{if(!n)return void a.v0.error(e("common.useCopy.noText"));l.value?(await t(n),a.v0.success(e("common.useCopy.success"))):a.v0.error(e("common.useCopy.failed"))}}}},16893:function(e,t,l){l.d(t,{Z:()=>o});var a=l(67655),n=l(58786);let i={class:"mr-4px"},o=(0,n.aZ)({__name:"index",props:{href:{type:String,default:""},text:{type:String,default:""}},setup(e){let t=()=>{window.open(e.href)};return(l,o)=>{let d=a.ZP;return(0,n.wg)(),(0,n.j4)(d,{text:"",onClick:t},{default:(0,n.w5)(()=>[(0,n._)("span",i,(0,n.zw)(e.text||l.$t("common.actions.help")),1),o[0]||(o[0]=(0,n._)("i",{class:"i-custom:help text-primary"},null,-1))]),_:1,__:[0]})}}})},46244:function(e,t,l){l.d(t,{Z:()=>i});var a=l(98048),n=l(58786);let i=(0,n.aZ)({__name:"index",props:{model:{},rules:{},labelWidth:{},labelPlacement:{default:"top"}},setup(e,t){let{expose:l}=t,i=(0,n.iH)(null);return l({validate:()=>{var e;return null==(e=i.value)?void 0:e.validate()},restoreValidation:()=>{var e;return null==(e=i.value)?void 0:e.restoreValidation()}}),(e,t)=>{let l=a.Z;return(0,n.wg)(),(0,n.j4)(l,(0,n.dG)(e.$attrs,{ref_key:"formRef",ref:i,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement}),{default:(0,n.w5)(()=>[(0,n.WI)(e.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},50624:function(e,t,l){l.r(t),l.d(t,{default:()=>ex});var a=l(39244),n=l(25170),i=l(75754),o=l(66760),d=l(16893),s=l(58786),r=l(67655),m=l(53903),u=l(93953),c=l(68271),p=l(51169),_=l(67512),f=l(39432);let w={class:"bt-tips flex flex-col gap-4px list-outside list-disc leading-20px text-[#777]"};var v=l(41748);let S=(0,v.default)({},[["render",function(e,t){return(0,s.wg)(),(0,s.iD)("ul",w,[(0,s.WI)(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-8731a1b4"]]);var U=l(46244),h=l(8490),y=l(29283),g=l(6455),b=l(73084),x=l(52495);let k={class:"pt-16px"},W={class:"w-100px ml-20px"},z={class:"text-error"},Z=(0,s.aZ)({__name:"DomainForm",setup(e){let{t}=(0,x.QT)(),l=(0,s.iH)(!1),a=(0,s.Fl)(()=>l.value?t("domain.form.editTitle"):t("domain.form.addTitle")),n=(0,s.AE)("formRef"),i=(0,s.qj)({domain:"",a_record:"",quota:5,quota_unit:"GB",mailboxes:50,email:""}),o=[{label:"GB",value:"GB"},{label:"MB",value:"MB"}],d={domain:{trigger:["blur","input"],validator:()=>""!==i.domain.trim()||Error(t("domain.form.validation.domainRequired"))}},r=(e,t)=>{switch(t){case"GB":return 1024*e*1048576;case"MB":return 1024*e*1024;default:return e}},[m,u]=(0,p.d)({onChangeState:e=>{if(e){let e=u.getState();if(l.value=e.isEdit,e.row){let{row:t}=e;i.domain=t.domain,i.a_record=t.a_record;let l=(0,c.UO)(t.quota);i.quota=(0,c.Dx)(l.split(" ")[0]),i.quota_unit=l.split(" ")[1],i.mailboxes=t.mailboxes,i.email=t.email}}else i.domain="",i.a_record="",i.quota=5,i.quota_unit="GB",i.mailboxes=50,i.email=""},onConfirm:async()=>{var e;await (null==(e=n.value)?void 0:e.validate()),l.value?await (0,f.gK)({domain:i.domain,quota:r(i.quota,i.quota_unit),mailboxes:i.mailboxes,email:i.email}):await (0,f.Fj)({domain:i.domain,quota:r(i.quota,i.quota_unit),mailboxes:i.mailboxes,email:i.email}),u.getState().refresh()}});return(e,r)=>{let u=b.Z,c=g.ZP,p=y.Z,_=h.Z,f=U.Z;return(0,s.wg)(),(0,s.j4)((0,s.SU)(m),{title:(0,s.SU)(a),width:540},{default:(0,s.w5)(()=>[(0,s._)("div",k,[(0,s.Wm)(f,{ref_key:"formRef",ref:n,model:(0,s.SU)(i),rules:d},{default:(0,s.w5)(()=>[(0,s.Wm)(c,{label:(0,s.SU)(t)("domain.form.domain"),path:"domain"},{default:(0,s.w5)(()=>[(0,s.Wm)(u,{value:(0,s.SU)(i).domain,"onUpdate:value":r[0]||(r[0]=e=>(0,s.SU)(i).domain=e),disabled:(0,s.SU)(l),placeholder:(0,s.SU)(t)("domain.form.domainPlaceholder")},null,8,["value","disabled","placeholder"])]),_:1},8,["label"]),(0,s.kq)("",!0),(0,s.Wm)(c,{label:(0,s.SU)(t)("domain.form.quota")},{default:(0,s.w5)(()=>[(0,s.Wm)(p,{value:(0,s.SU)(i).quota,"onUpdate:value":r[2]||(r[2]=e=>(0,s.SU)(i).quota=e),class:"flex-1",min:0,"show-button":!1},null,8,["value"]),(0,s._)("div",W,[(0,s.Wm)(_,{value:(0,s.SU)(i).quota_unit,"onUpdate:value":r[3]||(r[3]=e=>(0,s.SU)(i).quota_unit=e),options:o},null,8,["value"])])]),_:1},8,["label"]),(0,s.Wm)(c,{label:(0,s.SU)(t)("domain.form.mailboxCount")},{default:(0,s.w5)(()=>[(0,s.Wm)(p,{value:(0,s.SU)(i).mailboxes,"onUpdate:value":r[4]||(r[4]=e=>(0,s.SU)(i).mailboxes=e),class:"flex-1",min:0,"show-button":!1},null,8,["value"])]),_:1},8,["label"]),(0,s.Wm)(c,{label:(0,s.SU)(t)("domain.form.globalCatch")},{default:(0,s.w5)(()=>[(0,s.Wm)(u,{value:(0,s.SU)(i).email,"onUpdate:value":r[5]||(r[5]=e=>(0,s.SU)(i).email=e),placeholder:(0,s.SU)(t)("domain.form.globalCatchPlaceholder")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"]),(0,s.Wm)(S,null,{default:(0,s.w5)(()=>[(0,s._)("li",z,(0,s.zw)((0,s.SU)(t)("domain.form.tips.aRecordFailed")),1),(0,s._)("li",null,(0,s.zw)((0,s.SU)(t)("domain.form.tips.dnsSetup")),1),(0,s._)("li",null,(0,s.zw)((0,s.SU)(t)("domain.form.tips.cloudflare")),1)]),_:1})])]),_:1},8,["title"])}}});var C=l(10320);let q=(0,s.aZ)({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){let t=(0,s.tT)(e,"value");return(e,l)=>{let a=C.Z;return(0,s.wg)(),(0,s.j4)(a,{value:t.value,"onUpdate:value":l[0]||(l[0]=e=>t.value=e),class:"bt-tabs h-full",type:"card",placement:"top"},{default:(0,s.w5)(()=>[(0,s.WI)(e.$slots,"default")]),_:3},8,["value"])}}}),P=(0,v.default)(q,[["__scopeId","data-v-53057eda"]]);var j=l(43751),F=l(60579),T=l(99321);let $={class:"ssl-cert-container"},D={class:"brand-info"},M={class:"info-label"},O={class:"info-value"},H={class:"info-label"},R={class:"info-value font-normal!"},I={class:"cert-content"},A={class:"cert-section"},B={class:"section-title"},G={class:"cert-section"},K={class:"section-title"},E={class:"cert-actions"},L=(0,s.aZ)({__name:"OtherCert",props:{domain:{type:Object,required:!0},refresh:{type:Function,required:!0}},setup(e){let t=(0,s.iH)(!1),l=(0,s.iH)({subject:"",issuer:"",not_before:"",not_after:"",dns:[],endtime:0,key_pem:"",cert_pem:""}),a=(0,s.Fl)(()=>l.value.dns||[]),n=async()=>{try{t.value=!0;let a=await (0,f.Au)({domain:e.domain.domain});(0,c.Kn)(a)&&(l.value=a)}finally{t.value=!1}},i=async()=>{await (0,f.OV)({domain:e.domain.domain,key:l.value.key_pem,certificate:l.value.cert_pem}),n(),e.refresh()},o=async()=>{await (0,f.yW)({domain:e.domain.domain}),n(),e.refresh()};return l.value=e.domain.cert_info,(e,n)=>{let d=m.ZP,u=T.Z,c=b.Z,p=r.ZP,_=F.Z;return(0,s.wg)(),(0,s.iD)("div",$,[(0,s.Wm)(_,{show:(0,s.SU)(t)},{default:(0,s.w5)(()=>[(0,s.SU)(l).endtime>0?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:(0,s.w5)(()=>[(0,s._)("div",D,[(0,s._)("div",M,(0,s.zw)(e.$t("domain.ssl.cert.brand"))+"：",1),(0,s._)("div",O,(0,s.zw)((0,s.SU)(l).issuer),1),(0,s._)("div",H,(0,s.zw)(e.$t("domain.ssl.cert.domains"))+"：",1),(0,s._)("div",R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,s.SU)(a),(e,t)=>((0,s.wg)(),(0,s.j4)(d,{key:t,size:"small"},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e),1)]),_:2},1024))),128))])])]),_:1})):(0,s.kq)("",!0),(0,s._)("div",I,[(0,s._)("div",A,[(0,s._)("div",B,(0,s.zw)(e.$t("domain.ssl.cert.privateKey")),1),(0,s.Wm)(c,{value:(0,s.SU)(l).key_pem,"onUpdate:value":n[0]||(n[0]=e=>(0,s.SU)(l).key_pem=e),type:"textarea",placeholder:e.$t("domain.ssl.cert.keyPlaceholder"),rows:14,"input-props":{spellcheck:!1}},null,8,["value","placeholder"])]),(0,s._)("div",G,[(0,s._)("div",K,(0,s.zw)(e.$t("domain.ssl.cert.certificate")),1),(0,s.Wm)(c,{value:(0,s.SU)(l).cert_pem,"onUpdate:value":n[1]||(n[1]=e=>(0,s.SU)(l).cert_pem=e),type:"textarea",placeholder:e.$t("domain.ssl.cert.certPlaceholder"),"input-props":{spellcheck:!1},rows:14},null,8,["value","placeholder"])])]),(0,s._)("div",E,[(0,s.Wm)(p,{type:"primary",onClick:i},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("common.actions.save")),1)]),_:1}),(0,s.Wm)(p,{type:"primary",onClick:o},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)(e.$t("domain.ssl.actions.applyFree")),1)]),_:1})])]),_:1},8,["show"]),(0,s.Wm)(S,null,{default:(0,s.w5)(()=>[(0,s._)("li",null,(0,s.zw)(e.$t("domain.ssl.tips.paste")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.ssl.tips.chainCheck")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.ssl.tips.pemFormat")),1),(0,s._)("li",null,(0,s.zw)(e.$t("domain.ssl.tips.defaultSite")),1)]),_:1})])}}}),V=(0,v.default)(L,[["__scopeId","data-v-bd7d6d60"]]),X=(0,s.aZ)({__name:"index",setup(e){let t=(0,s.iH)("other"),l=(0,s.iH)(null),[a,n]=(0,p.d)({onChangeState:e=>{if(e){let{row:e}=n.getState();e&&(l.value=e)}}}),i=()=>{n.getState().refresh()};return(e,n)=>{let o=j.Z;return(0,s.wg)(),(0,s.j4)((0,s.SU)(a),{title:e.$t("domain.ssl.title"),width:650,footer:!1},{default:(0,s.w5)(()=>[(0,s.Wm)(P,{value:(0,s.SU)(t),"onUpdate:value":n[0]||(n[0]=e=>(0,s.dq)(t)?t.value=e:null)},{default:(0,s.w5)(()=>[(0,s.Wm)(o,{name:"other",tab:e.$t("domain.ssl.tabs.otherCertificate")},{default:(0,s.w5)(()=>[(0,s.SU)(l)?((0,s.wg)(),(0,s.j4)(V,{key:0,domain:(0,s.SU)(l),refresh:i},null,8,["domain"])):(0,s.kq)("",!0)]),_:1},8,["tab"])]),_:1},8,["value"])]),_:1},8,["title"])}}});var Q=l(35409),Y=l(50039),J=l(56357),N=l(87075),ee=l(62198),et=l(77984);let el={class:"record-title"},ea={width:"140"},en={width:"160"},ei={class:"record-title"},eo={class:"record-desc"},ed={width:"140"},es={width:"160"},er={class:"record-title"},em={class:"record-desc"},eu={width:"140"},ec={width:"160"},ep={class:"record-title"},e_={class:"record-desc"},ef={class:"record-desc"},ew={class:"flex justify-center mt-24px"},ev=(0,s.aZ)({__name:"DomainDns",setup(e){let{t}=(0,x.QT)(),{copyText:l}=(0,et.F)(),a=(0,s.iH)([]),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return a.value.length>0?a.value[0].dns_records[e][t]:""},o=(0,s.Fl)(()=>n("dkim")),d=(0,s.Fl)(()=>n("a")),m=(0,s.Fl)(()=>n("a","host")),u=(0,s.Fl)(()=>n("mx")),_=(0,s.Fl)(()=>n("mx","host")),w=(0,s.Fl)(()=>n("dmarc")),v=(0,s.Fl)(()=>n("spf")),S=e=>{let{status:l}=e;return(0,s.Wm)("div",{class:["inline-flex items-center",l?"text-primary":"text-error"]},[(0,s.Wm)(J.g,{size:"16"},{default:()=>[l?(0,s.Wm)(N.Z,null,null):(0,s.Wm)(ee.Z,null,null)]}),(0,s.Wm)("span",{class:"ml-4px"},[l?t("domain.dns.status.ok"):t("domain.dns.status.notSet")])])},U=(0,s.iH)([{key:"domain",title:t("domain.dns.columns.domain"),width:"20%",ellipsis:{tooltip:!0}},{key:"mx",title:"MX",render:e=>{let t=e.dns_records.mx;return(0,s.Wm)(S,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"a",title:"A record",render:e=>{let t=e.dns_records.a;return(0,s.Wm)(S,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"spf",title:"SPF",render:e=>{let t=e.dns_records.spf;return(0,s.Wm)(S,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"dkim",title:"DKIM",render:e=>{let t=e.dns_records.dkim;return(0,s.Wm)(S,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"dmarc",title:"DMARC",render:e=>{let t=e.dns_records.dmarc;return(0,s.Wm)(S,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"ptr",title:"PTR",render:e=>{let t=e.dns_records.ptr;return(0,s.Wm)(S,{status:(null==t?void 0:t.valid)||!1},null)}}]),h=async()=>{let e=await (0,f.v1)({domain:a.value[0].domain});(0,c.Kn)(e)&&(a.value[0].dns_records=e);let{refresh:t}=g.getState();t()},[y,g]=(0,p.d)({onChangeState:e=>{if(e){let{row:e}=g.getState();e&&(a.value=[e])}}});return(e,n)=>{let c=i.Z,p=Y.Z,f=Q.ZP,S=r.ZP;return(0,s.wg)(),(0,s.j4)((0,s.SU)(y),{title:(0,s.SU)(t)("domain.dns.title"),width:750,footer:!1},{default:(0,s.w5)(()=>[(0,s._)("div",null,[(0,s.Wm)(c,{size:"small",class:"mb-20px",data:(0,s.SU)(a),columns:(0,s.SU)(U)},null,8,["data","columns"]),(0,s._)("div",el,(0,s.zw)((0,s.SU)(t)("domain.dns.step1.title")),1),(0,s.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,s.w5)(()=>[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",ea,(0,s.zw)((0,s.SU)(t)("domain.dns.table.recordType")),1),(0,s._)("th",en,(0,s.zw)((0,s.SU)(t)("domain.dns.table.host")),1),(0,s._)("th",null,(0,s.zw)((0,s.SU)(t)("domain.dns.table.value")),1)])]),(0,s._)("tbody",null,[(0,s._)("tr",null,[n[3]||(n[3]=(0,s._)("td",null,"A",-1)),(0,s._)("td",null,(0,s.zw)((0,s.SU)(m)),1),(0,s._)("td",null,(0,s.zw)((0,s.SU)(d)),1)])])]),_:1}),(0,s._)("div",ei,(0,s.zw)((0,s.SU)(t)("domain.dns.step2.title")),1),(0,s._)("div",eo,(0,s.zw)((0,s.SU)(t)("domain.dns.step2.description")),1),(0,s.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,s.w5)(()=>[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",ed,(0,s.zw)((0,s.SU)(t)("domain.dns.table.recordType")),1),(0,s._)("th",es,(0,s.zw)((0,s.SU)(t)("domain.dns.table.host")),1),(0,s._)("th",null,(0,s.zw)((0,s.SU)(t)("domain.dns.table.value")),1),(0,s._)("th",null,(0,s.zw)((0,s.SU)(t)("domain.dns.table.mxPriority")),1)])]),(0,s._)("tbody",null,[(0,s._)("tr",null,[n[4]||(n[4]=(0,s._)("td",null,"MX",-1)),(0,s._)("td",null,(0,s.zw)((0,s.SU)(_)),1),(0,s._)("td",null,(0,s.zw)((0,s.SU)(u)),1),n[5]||(n[5]=(0,s._)("td",null,"10",-1))])])]),_:1}),(0,s._)("div",er,(0,s.zw)((0,s.SU)(t)("domain.dns.step3.title")),1),(0,s._)("div",em,(0,s.zw)((0,s.SU)(t)("domain.dns.step3.description")),1),(0,s.Wm)(p,{size:"small",class:"mb-24px"},{default:(0,s.w5)(()=>[(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",eu,(0,s.zw)((0,s.SU)(t)("domain.dns.table.recordType")),1),(0,s._)("th",ec,(0,s.zw)((0,s.SU)(t)("domain.dns.table.host")),1),(0,s._)("th",null,(0,s.zw)((0,s.SU)(t)("domain.dns.table.value")),1)])]),(0,s._)("tbody",null,[(0,s._)("tr",null,[n[6]||(n[6]=(0,s._)("td",null,"TXT",-1)),n[7]||(n[7]=(0,s._)("td",null,"@",-1)),(0,s._)("td",null,[(0,s.Wm)(f,{class:"mr-4px max-w-320px!"},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(v)),1)]),_:1}),(0,s.Wm)(S,{text:"",type:"primary",onClick:n[0]||(n[0]=()=>(0,s.SU)(l)((0,s.SU)(v)))},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("common.actions.copy")),1)]),_:1})])]),(0,s._)("tr",null,[n[8]||(n[8]=(0,s._)("td",null,"TXT",-1)),n[9]||(n[9]=(0,s._)("td",null,"default._domainkey",-1)),(0,s._)("td",null,[(0,s.Wm)(f,{class:"mr-4px max-w-320px!"},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(o)||"--"),1)]),_:1}),(0,s.SU)(o)?((0,s.wg)(),(0,s.j4)(S,{key:0,text:"",type:"primary",onClick:n[1]||(n[1]=()=>(0,s.SU)(l)((0,s.SU)(o)))},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("common.actions.copy")),1)]),_:1})):(0,s.kq)("",!0)])]),(0,s._)("tr",null,[n[10]||(n[10]=(0,s._)("td",null,"TXT",-1)),n[11]||(n[11]=(0,s._)("td",null,"_dmarc",-1)),(0,s._)("td",null,[(0,s.Wm)(f,{class:"mr-4px max-w-320px!"},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(w)),1)]),_:1}),(0,s.SU)(w)?((0,s.wg)(),(0,s.j4)(S,{key:0,text:"",type:"primary",onClick:n[2]||(n[2]=()=>(0,s.SU)(l)((0,s.SU)(w)))},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("common.actions.copy")),1)]),_:1})):(0,s.kq)("",!0)])])])]),_:1}),(0,s._)("div",ep,(0,s.zw)((0,s.SU)(t)("domain.dns.step4.title")),1),(0,s._)("div",e_,(0,s.zw)((0,s.SU)(t)("domain.dns.step4.description1")),1),(0,s._)("div",ef,(0,s.zw)((0,s.SU)(t)("domain.dns.step4.description2")),1)]),(0,s._)("div",ew,[(0,s.Wm)(S,{type:"primary",onClick:h},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("domain.dns.verify")),1)]),_:1})])]),_:1},8,["title"])}}}),eS=(0,v.default)(ev,[["__scopeId","data-v-8094e116"]]);var eU=l(65965);let eh={class:"p-24px"},ey={class:"bt-title"};function eg(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,s.lA)(e)}let eb=(0,s.aZ)({__name:"index",setup(e){let{t}=(0,x.QT)(),{tableParams:l,tableList:w,loading:v,tableTotal:S,getTableData:U}=(0,_.Z)({immediate:!0,params:{page:1,page_size:10,keyword:""},fetchFn:f.i7}),h=(0,eU.tv)(),y=(0,s.iH)([{key:"domain",title:t("domain.columns.domain"),minWidth:130,ellipsis:{tooltip:!0},render:e=>(0,s.Wm)(s.HY,null,[(0,s.Wm)(r.ZP,{text:!0,type:"primary",onClick:()=>{h.push({path:"/mailbox",state:{domain:e.domain}})}},{default:()=>[e.domain]}),e.default?(0,s.Wm)(m.ZP,{size:"small",class:"ml-8px",bordered:!1},{default:()=>[(0,s.Uk)("Default")]}):""])},{key:"quota",title:t("domain.columns.quota"),render:e=>(0,c.UO)(e.quota)},{key:"mailboxes",title:t("domain.columns.mailboxes")},{key:"mailbox_quota",title:t("domain.columns.defaultMailboxSize"),render:e=>(0,c.UO)(e.mailbox_quota)},{key:"ssl",title:"SSL",render:e=>{let l;if(e.cert_info&&e.cert_info.endtime){let l=Math.floor((1e3*e.cert_info.endtime-Date.now())/1e3/60/60/24);return(0,s.Wm)(r.ZP,{type:l<0?"error":"primary",text:!0,onClick:()=>{C(e)}},{default:()=>[l<0?t("domain.ssl.expired"):t("domain.ssl.daysLeft",{days:l})]})}return(0,s.Wm)(r.ZP,{type:"warning",text:!0,onClick:()=>{C(e)}},eg(l=t("domain.ssl.notSet"))?l:{default:()=>[l]})}},{title:t("domain.columns.actions"),key:"actions",align:"right",width:260,render:e=>{let l,a,n;return(0,s.Wm)(u.Z,{inline:!0},{default:()=>[(0,s.Wm)(r.ZP,{type:"primary",text:!0,onClick:()=>{j(e)}},eg(l=t("domain.actions.dnsRecord"))?l:{default:()=>[l]}),(0,s.Wm)(r.ZP,{type:"primary",text:!0,onClick:()=>{T(e)}},eg(a=t("common.actions.edit"))?a:{default:()=>[a]}),(0,s.Wm)(r.ZP,{type:"primary",text:!0,disabled:1===e.default,onClick:()=>{F(e)}},{default:()=>[(0,s.Uk)("Set Default")]}),(0,s.Wm)(r.ZP,{type:"error",text:!0,onClick:()=>{$(e)}},eg(n=t("common.actions.delete"))?n:{default:()=>[n]})]})}}]),[g,b]=(0,p.d)({component:Z,state:{isEdit:!1,refresh:U}}),k=()=>{b.setState({row:null,isEdit:!1}),b.open()},[W,z]=(0,p.d)({component:X,state:{refresh:U}}),C=e=>{z.setState({row:e}),z.open()},[q,P]=(0,p.d)({component:eS,state:{refresh:U}}),j=e=>{P.setState({row:e}),P.open()},F=e=>{(0,c.iG)({title:`Set Default [${e.domain}]`,content:"Are you sure to set this domain as default?",onConfirm:async()=>{await (0,f.xh)({domain:e.domain}),U()}})},T=e=>{b.setState({row:e,isEdit:!0}),b.open()},$=e=>{(0,c.iG)({title:t("domain.delete.title"),content:t("domain.delete.confirm",{domain:e.domain}),confirmText:t("common.actions.delete"),confirmType:"error",onConfirm:async()=>{await (0,f.dj)({domain:e.domain}),U()}})};return(e,m)=>{let u=d.Z,c=o.Z,p=i.Z,_=n.Z,f=a.Z;return(0,s.wg)(),(0,s.iD)("div",eh,[(0,s._)("div",ey,(0,s.zw)((0,s.SU)(t)("layout.menu.domain")),1),(0,s.Wm)(f,null,{toolsLeft:(0,s.w5)(()=>[(0,s.Wm)((0,s.SU)(r.ZP),{type:"primary",onClick:k},{default:(0,s.w5)(()=>[(0,s.Uk)((0,s.zw)((0,s.SU)(t)("domain.addDomain")),1)]),_:1}),(0,s.Wm)(u,{href:"https://www.billionmail.com/start/domain.html",text:(0,s.SU)(t)("domain.help")},null,8,["text"])]),table:(0,s.w5)(()=>[(0,s.Wm)(p,{loading:(0,s.SU)(v),columns:(0,s.SU)(y),data:(0,s.SU)(w)},{empty:(0,s.w5)(()=>[(0,s.Wm)(c)]),_:1},8,["loading","columns","data"])]),pageRight:(0,s.w5)(()=>[(0,s.Wm)(_,{page:(0,s.SU)(l).page,"onUpdate:page":m[0]||(m[0]=e=>(0,s.SU)(l).page=e),"page-size":(0,s.SU)(l).page_size,"onUpdate:pageSize":m[1]||(m[1]=e=>(0,s.SU)(l).page_size=e),"item-count":(0,s.SU)(S),onRefresh:(0,s.SU)(U)},null,8,["page","page-size","item-count","onRefresh"])]),modal:(0,s.w5)(()=>[(0,s.Wm)((0,s.SU)(g)),(0,s.Wm)((0,s.SU)(W)),(0,s.Wm)((0,s.SU)(q))]),_:1})])}}}),ex=(0,v.default)(eb,[["__scopeId","data-v-505a5a60"]])}}]);